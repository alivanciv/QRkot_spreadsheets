# Cat Charity Fund


## Описание:

Проект API для создания благотворительного фонда с ведением Базы Данных и реализцией пользователей.

## Инструкции
Клонировать репозиторий и перейти в него в командной строке:

```
git clone git@github.com:alivanciv/QRkot_spreadsheets.git
```

```
cd cat_charity_fund
```

Cоздать и активировать виртуальное окружение:

```
python3 -m venv venv
```

* Если у вас Linux/macOS

    ```
    source venv/bin/activate
    ```

* Если у вас windows

    ```
    source venv/scripts/activate
    ```

Установить зависимости из файла requirements.txt:

```
python3 -m pip install --upgrade pip
```

```
pip install -r requirements.txt
```

Создать БД / применить миграции
```
alembic upgrade head
```

Запустить проект:

```
uvicor app.main:app
```

## Технологии
 - FastAPI
 - SQLAlchemy
 - Pydantic
 - Alembic
 - Uvicorn
 - Google API

## Особенности
| Технология | Описание |
| ------ | ------ |
| FastAPI | Фреймворк для реализации API |
| SQLAlchemy | Декларация полей и типов данных для ведения БД |
| Pydantic | Создание схем для сериализаци/десериализации объектов |
| Alembic | Асинхронное ведение БД, Создание/Изменения/Миграции с сохранением информации |
| Uvicorn | Создание сервера ASGI для Python |
| Google API | Выгрузка данных в гугл таблицу |


# Примеры запросов:

## Проекты

### Список проектов
```
GET /charity_project/
```
Возвращает список всех проектов.

### Создание проекта
```
POST /charity_project/
```
Только для суперюзеров.
Создаёт благотворительный проект.

### Изменение проекта
```
PATCH /charity_project/{project_id}/
```
Только для суперюзеров.
Закрытый проект нельзя редактировать; нельзя установить требуемую сумму меньше уже вложенной.

### Удвление проекта
```
DELETE /charity_project/{project_id}/
```
Только для суперюзеров.
Удаляет проект. Нельзя удалить проект, в который уже были инвестированы средства, его можно только закрыть


## Пожертвования

### Список пожертвований
```
GET /donation/
```
Только для суперюзеров.
Возвращает список всех пожертвований.

### Создание пожертвования
```
POST /donation/
```
Сделать пожертвование.

### Список пожертвований
```
GET /donation/my
```
Возвращает список пожертвований пользователя, выполняющего запрос.

## Авторизация

Регистрация
```
POST /auth/register
```

Вход
```
POST /auth/jwt/login
```

Выход
```
POST /auth/jwt/logout
```

## Пользователи

```
GET|PATCH /users/me
```

```
GET|PATCH /users/{id}
```
Только для суперюзеров.

---
## Контакты
 [Алексей Иванцив](https://github.com/alivanciv) | email: alivanciv@gmail.com |тел.: +79146425728
 ------ | ------ |------  

